"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[747],{46072:function(t,e,r){var o;r.d(e,{es:function(){return l},Vc:function(){return h},Hz:function(){return d}});let n=/^[a-zA-Z][\w+.-]*:\/\//,s=["localhost","127.","0.0.0.0","[::1]"];function a(t){let e=new URL(t);if("null"===e.origin)throw TypeError('URL "'.concat(t,'" is missing a valid scheme and cannot be resolved.'));let r="/"===e.pathname?"":e.pathname.replace(/\/$/,"");return"".concat(e.origin).concat(r)}function i(t,e){let r=e;try{r=a(e)}catch(t){throw Error('Invalid fallback API base URL "'.concat(e,'": ').concat(String(t)))}let o=null==t?void 0:t.trim();if(!o)return r;let i=[o];if(!n.test(o)){let t=!function(t){let e=t.toLowerCase();return s.some(t=>e.startsWith(t))}(o)?"https://":"http://";i.push("".concat(t).concat(o))}for(let t of i)try{return a(t)}catch(t){}return"undefined"!=typeof console&&console.warn('resolveApiBaseUrl: invalid API base URL "'.concat(o,'", falling back to "').concat(r,'".')),r}let c=null!==(o=r(48159).env.NEXT_PUBLIC_DEPLOYMENT_API_BASE_URL)&&void 0!==o?o:"https://fulfilling-nourishment-production.up.railway.app",u=/^(?:localhost|127(?:\.\d+){3}|0\.0\.0\.0|\[::1\])$/i,l=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],c}();function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if(null==t?void 0:t.trim())return i(t,e);let r=function(){if(!(void 0!==window.location))return;let{origin:t,hostname:e}=window.location;if(!t||!e||u.test(e))return;let r=function(t){let e=null==t?void 0:t.assetPrefix;if(!e||"string"!=typeof e)return"";try{let t=new URL(e,"http://example.com");return"/"===t.pathname?"":t.pathname.replace(/\/$/,"")}catch(t){return e.startsWith("/")?e.replace(/\/$/,""):"/".concat(e).replace(/\/$/,"")}}(globalThis.__NEXT_DATA__),o="".concat(r,"/api").replace(/\/{2,}/g,"/");return"".concat(t).concat(o.startsWith("/")?o:"/".concat(o))}();if(r)try{return i(r,e)}catch(t){"undefined"!=typeof console&&console.warn('resolveClientApiBaseUrl: Ignoring inferred base URL "'.concat(r,'" â€“ ').concat(String(t)))}return i(void 0,e)}function d(){let{rewriteUrl:t,publicUrl:e,ssrUrl:r,fallbackUrl:o=l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[t,e,r].find(t=>"string"==typeof t&&t.trim().length>0);return h(null!=n?n:void 0,o)}},70747:function(t,e,r){var o=r(93314),n=r(78564),s=r(97910),a=r(46072);async function i(t){return new Promise(e=>setTimeout(e,t))}async function c(t,e){let r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=null;t instanceof Request?r=t.url:t instanceof URL?r=t.toString():r=String(t);let c=(null==e?void 0:e.method)||(t instanceof Request?t.method:"GET");for(let u=0;u<=o;u++)try{if(Date.now(),u>0){let t=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return e*Math.pow(2,t-1)}(u);s.k.logRetry(c,r,u,o),await i(t)}let a=new AbortController,l=setTimeout(()=>a.abort(),3e4);try{let r=await fetch(t,{...e,signal:a.signal});return clearTimeout(l),r}catch(t){if(clearTimeout(l),t instanceof Error&&"AbortError"===t.name)throw n.MS.fromTimeout(3e4);throw t}}catch(t){if(a=t instanceof Error?t:Error(String(t)),t instanceof n.MS){if(!t.isRetryable||u===o)throw s.k.logApiError(c,r,t),t}else{let t=n.MS.fromNetworkError(a,u);if(u===o)throw s.k.logApiError(c,r,t),t;a=t}}throw a||new n.MS("Request failed after retries")}r(48159);let u=(0,o.ZP)({baseUrl:(0,a.Vc)("https://ufc.wolfgangschoenberger.com/api",a.es),fetch:c,headers:{"Content-Type":"application/json"},cache:"no-store"});u.use({async onRequest(t){let{request:e}=t,r=e.method,o=e.url;return s.k.logRequest(r,o),e},async onResponse(t){let{response:e,request:r}=t,o=r.method,n=r.url;return s.k.logResponse(o,n,e.status,0),e}}),u.use({async onResponse(t){let{response:e}=t;if(!e.ok&&e.status>=400){let t=e.headers.get("X-Request-ID")||void 0;try{let t=await e.clone().json();throw n.MS.fromResponse(t,e.status)}catch(r){if(r instanceof n.MS)throw r;throw new n.MS(e.statusText||"Request failed",{statusCode:e.status,detail:"HTTP ".concat(e.status," error occurred"),requestId:t})}}return e}}),e.Z=u},78564:function(t,e,r){var o,n;r.d(e,{MS:function(){return s},NI:function(){return o},dR:function(){return a}}),(n=o||(o={})).VALIDATION_ERROR="validation_error",n.NOT_FOUND="not_found",n.DATABASE_ERROR="database_error",n.NETWORK_ERROR="network_error",n.INTERNAL_ERROR="internal_error",n.TIMEOUT_ERROR="timeout_error",n.AUTHENTICATION_ERROR="authentication_error",n.AUTHORIZATION_ERROR="authorization_error",n.PARSE_ERROR="parse_error",n.UNKNOWN_ERROR="unknown_error";class s extends Error{determineRetryability(){return"network_error"===this.errorType||"timeout_error"===this.errorType||this.statusCode>=500&&this.statusCode<600||429===this.statusCode||408===this.statusCode||(this.statusCode>=400&&this.statusCode,!1)}getUserMessage(){if(this.validationErrors&&this.validationErrors.length>0){let t=this.validationErrors.map(t=>"".concat(t.field,": ").concat(t.message)).join(", ");return"".concat(this.message,": ").concat(t)}return this.detail?"".concat(this.message,": ").concat(this.detail):this.message}getTechnicalSummary(){let t=["[".concat(this.errorType,"]"),"HTTP ".concat(this.statusCode),this.message];return this.detail&&t.push("- ".concat(this.detail)),this.requestId&&t.push("(Request ID: ".concat(this.requestId,")")),this.retryCount>0&&t.push("(Retry attempt ".concat(this.retryCount,")")),t.join(" ")}static fromResponse(t,e){let r=t.error_type?t.error_type:"unknown_error";return new s(t.message,{errorType:r,statusCode:e,detail:t.detail,timestamp:t.timestamp,requestId:t.request_id,path:t.path,retryAfter:t.retry_after,validationErrors:t.errors})}static fromNetworkError(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new s("Network request failed",{errorType:"network_error",statusCode:0,detail:t.message,retryCount:e,cause:t})}static fromTimeout(t){return new s("Request timeout",{errorType:"timeout_error",statusCode:408,detail:"Request took longer than ".concat(t,"ms")})}static fromParseError(t){return new s("Failed to parse server response",{errorType:"parse_error",statusCode:500,detail:t.message,cause:t})}constructor(t,e={}){super(t),this.name="ApiError",this.errorType=e.errorType||"unknown_error",this.statusCode=e.statusCode||500,this.detail=e.detail,this.timestamp=e.timestamp instanceof Date?e.timestamp:e.timestamp?new Date(e.timestamp):new Date,this.requestId=e.requestId,this.path=e.path,this.retryAfter=e.retryAfter,this.validationErrors=e.validationErrors,this.retryCount=e.retryCount||0,this.context=e.context,this.isRetryable=this.determineRetryability(),e.cause&&(this.cause=e.cause)}}class a extends s{constructor(t,e){super("".concat(t," not found"),{errorType:"not_found",statusCode:404,detail:e}),this.name="NotFoundError"}}},97910:function(t,e,r){r.d(e,{k:function(){return i}});var o,n,s=r(78564);(o=n||(n={})).DEBUG="debug",o.INFO="info",o.WARN="warn",o.ERROR="error";class a{getTimestamp(){return new Date().toISOString()}formatMessage(t,e,r){let o=this.getTimestamp(),n=r?" ".concat(JSON.stringify(r)):"";return"[".concat(o,"] [").concat(t.toUpperCase(),"] ").concat(e).concat(n)}debug(t,e){this.isDevelopment&&console.debug(this.formatMessage("debug",t,e))}info(t,e){this.isDevelopment&&console.info(this.formatMessage("info",t,e))}warn(t,e){this.isDevelopment&&console.warn(this.formatMessage("warn",t,e))}error(t,e,r){let o={...r};e&&(e instanceof s.MS?(o.errorType=e.errorType,o.statusCode=e.statusCode,o.requestId=e.requestId,o.path=e.path,o.retryCount=e.retryCount,o.isRetryable=e.isRetryable,o.detail=e.detail,o.timestamp=e.timestamp.toISOString(),e.validationErrors&&(o.validationErrors=e.validationErrors)):(o.errorName=e.name,o.errorMessage=e.message),o.stack=e.stack),this.isDevelopment&&console.error(this.formatMessage("error",t,o))}logRequest(t,e,r){this.debug("API Request: ".concat(t," ").concat(e),r)}logResponse(t,e,r,o,n){this.debug("API Response: ".concat(t," ").concat(e," ").concat(r).concat(void 0!==o?" (".concat(o,"ms)"):""),n)}logApiError(t,e,r,o){this.error("API Error: ".concat(t," ").concat(e," - ").concat(r.getTechnicalSummary()),r,o)}logRetry(t,e,r,o,n){this.warn("Retrying ".concat(t," ").concat(e," (attempt ").concat(r,"/").concat(o,")"),n)}logComponentError(t,e,r){this.error("Component Error in ".concat(t,": ").concat(e.message),e,{componentStack:null==r?void 0:r.componentStack})}constructor(){this.isDevelopment=!1}}let i=new a}}]);