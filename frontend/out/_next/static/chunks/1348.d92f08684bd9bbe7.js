"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1348],{62822:function(e,t,r){r.d(t,{Z:function(){return n}});var i=r(41922);r(91115);var a=r(6318);function n(e){let{countryCode:t,alt:r,className:n="",width:s=24,height:l=16}=e;if(!t||2!==t.length)return null;let o=t.toUpperCase(),c=a[o];return c?(0,i.jsx)(c,{title:r||o,className:n,style:{width:"".concat(s,"px"),height:"".concat(l,"px")}}):(console.warn("Flag not found for country code: ".concat(o)),null)}},71348:function(e,t,r){r.r(t),r.d(t,{EnhancedFighterCard:function(){return S}});var i=r(41922),a=r(91115),n=r(86130),s=r(56497),l=r(87542),o=r(21644),c=r(87571),d=r(47511),u=r(85710),h=r(1492),m=r(17921),f=r(70747);let x={staleTime:3e5,gcTime:18e5},p=async e=>{let{data:t,error:r}=await f.Z.GET("/fighters/{fighter_id}",{params:{path:{fighter_id:e}}});if(!t||r)throw Error("Failed to fetch fighter details for ".concat(e));return t};var g=r(78235);function v(e){let{currentRank:t,peakRank:r,isChampion:a,isInterimChampion:n,className:s}=e,l="number"==typeof t&&Number.isFinite(t),o="number"==typeof r&&Number.isFinite(r);if(!l&&!o)return null;let c=l&&(a||0===t)?n?"INTERIM":"CHAMP":l?"#".concat(t):null;return(0,i.jsxs)("div",{className:(0,g.cn)("relative inline-flex items-center gap-2 rounded-full bg-black/65 px-3 py-1 text-[11px] font-semibold text-white shadow-[0_8px_24px_rgba(0,0,0,0.45)] ring-1 ring-white/10 backdrop-blur",s),children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[o&&(0,i.jsxs)("span",{className:"rounded-full border border-dashed border-amber-200/70 bg-black/40 px-3 py-1 text-[0.65rem] font-semibold tracking-tight text-amber-100",children:["Peak ",0===r?"C":"#".concat(r)]}),l&&(0,i.jsx)("span",{className:"rounded-full bg-gradient-to-r from-amber-300 to-amber-600 px-3 py-1 text-[0.65rem] font-black uppercase tracking-tight text-black shadow-inner shadow-white/40",children:c})]}),(0,i.jsx)("span",{"aria-hidden":"true",className:"h-7 w-1 rounded-full bg-gradient-to-b from-amber-300 to-amber-600 shadow-inner shadow-black/30"})]})}var w=r(29554),b=r(79185),y=r(51049),j=r(3425);let N=(0,y.F)()((0,j.tJ)((e,t)=>({comparisonList:[],addToComparison:r=>{let i=t().comparisonList;i.length>=4?e({comparisonList:[...i.slice(1),r]}):i.includes(r)||e({comparisonList:[...i,r]})},removeFromComparison:r=>{e({comparisonList:t().comparisonList.filter(e=>e!==r)})},clearComparison:()=>{e({comparisonList:[]})},isInComparison:e=>t().comparisonList.includes(e),canAddMore:()=>t().comparisonList.length<4}),{name:"ufc-pokedex-comparison"}));var _=r(62822);function C(e){if(!e)return"";try{let t=new Date(e);if(isNaN(t.getTime()))return"";let r=new Date;if(t>r){let e=t.getTime()-r.getTime(),i=Math.ceil(e/864e5);if(0===i)return"Later today";if(1===i)return"Tomorrow";if(i<7)return"In ".concat(i," days");if(i<30)return"In ".concat(Math.ceil(i/7)," weeks");if(i<365)return"In ".concat(Math.ceil(i/30)," months");return"In ".concat(Math.ceil(i/365)," years")}let i=r.getTime()-t.getTime(),a=Math.floor(i/864e5);if(0===a)return"Today";if(1===a)return"Yesterday";if(a<7)return"".concat(a," days ago");if(a<30)return"".concat(Math.floor(a/7)," weeks ago");if(a<365)return"".concat(Math.floor(a/30)," months ago");return"".concat(Math.floor(a/365)," years ago")}catch(e){return""}}var k=r(24611);let L=(0,a.memo)(function(e){let{formData:t,className:r=""}=e,[n,s]=(0,a.useState)(null);if(!t||0===t.length)return null;let l=t.slice(0,5).reverse(),o=e=>{switch(e){case"win":return"bg-green-400 hover:bg-green-500";case"loss":return"bg-red-500 hover:bg-red-600";default:return"bg-gray-400 hover:bg-gray-500"}},c=e=>{switch(e){case"win":return"W";case"loss":return"L";case"draw":return"D";case"nc":return"NC";default:return"?"}},d=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(e){return""}};return(0,i.jsx)("div",{className:"flex items-center gap-1 ".concat(r),"data-testid":"form-bar",children:l.map((e,t)=>(0,i.jsx)("div",{className:"relative h-2 w-2 rounded-sm transition-all duration-200 ".concat(o(e.result)),role:"img","aria-label":"".concat(c(e.result)," vs ").concat(e.opponent),"data-testid":"form-square-".concat(t),onMouseEnter:()=>s(t),onMouseLeave:()=>s(null),children:n===t&&(0,i.jsxs)("div",{className:"pointer-events-none absolute bottom-full left-1/2 z-50 mb-2 -translate-x-1/2 whitespace-nowrap rounded-lg bg-black/90 px-3 py-2 text-xs text-white shadow-lg","data-testid":"form-tooltip-".concat(t),children:[(0,i.jsxs)("div",{className:"font-semibold",children:[c(e.result)," vs ",e.opponent]}),e.method&&(0,i.jsx)("div",{className:"text-white/70",children:e.method}),e.date&&(0,i.jsx)("div",{className:"text-white/60",children:d(e.date)}),(0,i.jsx)("div",{className:"absolute left-1/2 top-full -translate-x-1/2 border-4 border-transparent border-t-black/90"})]})},"".concat(e.opponent,"-").concat(e.date,"-").concat(t)))})}),F=(0,a.memo)(function(e){let{streak:t,className:r=""}=e;if(!t||t.count<2||"none"===t.type)return null;let a=(()=>{switch(t.type){case"win":return{emoji:"\uD83D\uDD25",suffix:"W",textColor:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/20"};case"loss":return{emoji:"❄️",suffix:"L",textColor:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/20"};case"draw":return{emoji:"⚫",suffix:"D",textColor:"text-gray-500",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/20"};default:return null}})();return a?(0,i.jsxs)("div",{className:"inline-flex items-center gap-1 rounded-lg border px-2 py-1 ".concat(a.bgColor," ").concat(a.borderColor," ").concat(r),role:"status","aria-label":"".concat(t.count," ").concat(t.type," streak"),children:[(0,i.jsx)("span",{className:"text-xs leading-none",children:a.emoji}),(0,i.jsxs)("span",{className:"text-xs font-bold leading-none ".concat(a.textColor),children:[t.count,a.suffix]})]}):null});function D(e){let{fighter:t}=e,r=new Date,a=new Date(r.getTime()-2592e6);if(t.next_fight_date){let e=new Date(t.next_fight_date);if(e>r)return(0,i.jsxs)("span",{className:"flex items-center gap-1",children:[(0,i.jsx)("span",{children:"⚔️"}),(0,i.jsx)("span",{children:function(e){try{let t="string"==typeof e?new Date(e):e;if(isNaN(t.getTime()))return"";return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch(e){return""}}(e)})]})}if(t.last_fight_date&&t.last_fight_result){let e=new Date(t.last_fight_date);if(e>=a&&e<=r){let e="win"===t.last_fight_result,r="loss"===t.last_fight_result;if(e||r)return(0,i.jsxs)("span",{className:"flex items-center gap-1",children:[(0,i.jsx)("span",{className:e?"text-green-500":"text-red-500",children:e?"\uD83D\uDFE2":"\uD83D\uDD34"}),(0,i.jsx)("span",{children:C(t.last_fight_date)})]})}}return(0,i.jsx)("span",{className:"flex items-center gap-1",children:(0,i.jsx)("span",{className:"text-xs",children:"No scheduled bout"})})}let M=["fighter_id","name","nickname","record","division","image_url","is_current_champion","is_former_champion","current_streak_type","current_streak_count"],S=(0,a.memo)(function(e){var t,r;let{fighter:f,priority:y=!1}=e,[j,M]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[I,T]=(0,a.useState)(!1),z=(0,a.useRef)(null),A=(0,l.c)(0),R=(0,l.c)(0),Z={stiffness:150,damping:20},B=(0,o.q)((0,c.H)(R,[-.5,.5],[10,-10]),Z),H=(0,o.q)((0,c.H)(A,[-.5,.5],[-10,10]),Z),{isFavorite:O,toggleFavorite:U}=(0,w.r)({autoInitialize:!1}),{addToComparison:P,isInComparison:W}=function(){let e=N(),t=(0,a.useCallback)((t,r)=>{let i=!e.canAddMore();e.addToComparison(t),i?(0,b.Am)("Comparison updated",{description:"Removed oldest fighter and added ".concat(r||"fighter")}):b.Am.success("Added to comparison",{description:r?"".concat(r," added to comparison list"):"Fighter added to comparison list"})},[e]),r=(0,a.useCallback)((t,r)=>{e.removeFromComparison(t),(0,b.Am)("Removed from comparison",{description:r?"".concat(r," removed from comparison list"):"Fighter removed from comparison list"})},[e]),i=(0,a.useCallback)((i,a)=>{e.isInComparison(i)?r(i,a):t(i,a)},[e,t,r]),n=(0,a.useCallback)(()=>{e.clearComparison(),(0,b.Am)("Comparison cleared",{description:"All fighters removed from comparison list"})},[e]);return{comparisonList:e.comparisonList,addToComparison:t,removeFromComparison:r,toggleComparison:i,clearComparison:n,isInComparison:e.isInComparison,canAddMore:e.canAddMore}}(),{details:G,isLoading:K,error:X}=function(e,t){let r=(0,h.NL)(),i=(0,a.useMemo)(()=>["fighter-details",e],[e]),{data:n,isLoading:s,error:l}=(0,m.a)({queryKey:i,queryFn:()=>p(e),enabled:!!e&&t,retry:1,retryDelay:500,...x});return{details:null!=n?n:null,isLoading:s,error:l,refetch:(0,a.useCallback)(()=>{r.invalidateQueries({queryKey:i})},[r,i])}}(f.fighter_id,S);(0,a.useEffect)(()=>{let e=z.current;if(!e||S)return;let t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(E(!0),t.disconnect())})},{rootMargin:"200px 0px",threshold:.35});return t.observe(e),()=>{t.disconnect()}},[S,f.fighter_id]);let q=()=>{A.set(0),R.set(0)},Q=O(f.fighter_id),V=W(f.fighter_id),J=(0,g.CO)(f.image_url),Y=!!J&&!I,$=(0,k.K)(null!==(t=f.nationality)&&void 0!==t?t:void 0),ee=(()=>{var e,t;let r=null!==(e=f.current_streak_count)&&void 0!==e?e:0,i=null!==(t=f.current_streak_type)&&void 0!==t?t:"none";return("win"===i||"loss"===i||"draw"===i)&&r>=2?{type:i,count:r,label:String(r)}:null})(),et=(G&&S?function(e){if(!e||0===e.length)return{type:"none",count:0,label:"No fights"};let t=[...e].sort((e,t)=>{let r=e.event_date?new Date(e.event_date).getTime():0;return(t.event_date?new Date(t.event_date).getTime():0)-r}).filter(e=>{let t=e.result.toLowerCase().trim();return!(t.includes("next")||t.includes("vs")||"nc"===t||t.includes("no contest")||e.event_date&&new Date(e.event_date)>new Date)});if(0===t.length)return{type:"none",count:0,label:"No fights"};let r=t[0];if(!r)return{type:"none",count:0,label:"No fights"};let i=r.result.toLowerCase().trim(),a="none";if("w"===i||i.includes("win")?a="win":"l"===i||i.includes("loss")?a="loss":("d"===i||i.includes("draw"))&&(a="draw"),"none"===a)return{type:"none",count:0,label:"No streak"};let n=0;for(let e of t){let t=e.result.toLowerCase().trim(),r="w"===t||t.includes("win"),i="l"===t||t.includes("loss"),s="d"===t||t.includes("draw");if("win"===a&&r||"loss"===a&&i||"draw"===a&&s)n++;else break}if(n<2)return{type:"none",count:0,label:"No streak"};let s="".concat(n);return{type:a,count:n,label:s}}(G.fight_history):null)||ee,er=G&&S?function(e){if(!e||0===e.length)return null;let t=[...e].sort((e,t)=>{let r=e.event_date?new Date(e.event_date).getTime():0;return(t.event_date?new Date(t.event_date).getTime():0)-r})[0];return t?{opponent:t.opponent,result:t.result,method:t.method,date:t.event_date||null,eventName:t.event_name}:null}(G.fight_history):null,ei=G&&S&&(r=G.fight_history)&&0!==r.length?[...r].sort((e,t)=>{let r=e.event_date?new Date(e.event_date).getTime():0;return(t.event_date?new Date(t.event_date).getTime():0)-r}).filter(e=>{let t=e.result.toLowerCase().trim();return!(t.includes("next")||t.includes("vs")||e.event_date&&new Date(e.event_date)>new Date)}).slice(0,5).map(e=>{let t=e.result.toLowerCase().trim(),r="nc";return"w"===t||t.includes("win")?r="win":"l"===t||t.includes("loss")?r="loss":"d"===t||t.includes("draw")?r="draw":("nc"===t||t.includes("no contest"))&&(r="nc"),{result:r,opponent:e.opponent,date:e.event_date||null,method:e.method}}):[],ea=f.is_current_champion?"ring-2 ring-yellow-500/60 shadow-[0_0_20px_rgba(234,179,8,0.3)]":f.is_former_champion?"ring-1 ring-amber-500/40 shadow-[0_0_12px_rgba(245,158,11,0.2)]":"";return(0,i.jsx)(d.E.div,{ref:z,className:"group relative h-full",onHoverStart:()=>{M(!0),E(!0)},onHoverEnd:()=>{M(!1),q()},onMouseMove:e=>{if(!z.current)return;let t=z.current.getBoundingClientRect(),r=t.left+t.width/2,i=t.top+t.height/2,a=(e.clientX-r)/(t.width/2),n=(e.clientY-i)/(t.height/2);A.set(a),R.set(n)},onMouseLeave:q,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},style:{perspective:"1000px",transformStyle:"preserve-3d"},children:(0,i.jsx)(n.default,{href:"/fighters/".concat(f.fighter_id),className:"flex h-full flex-col",children:(0,i.jsxs)(d.E.div,{className:"relative flex h-full flex-col overflow-hidden rounded-2xl border border-border/80 bg-card/80 backdrop-blur-sm transition-colors transition-shadow duration-300 hover:border-border hover:shadow-lg hover:shadow-black/5 ".concat(ea),style:{rotateX:B,rotateY:H,transformStyle:"preserve-3d"},children:[(0,i.jsx)(u.M,{children:j&&(0,i.jsxs)(d.E.div,{className:"absolute right-3 top-3 z-20 flex gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},style:{transform:"translateZ(40px)",transformStyle:"preserve-3d"},children:[(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),U(f)},className:"rounded-full p-2 backdrop-blur-md transition-colors ".concat(Q?"bg-yellow-500/90 text-white":"bg-black/40 text-white/90 hover:bg-black/60"),"aria-label":"Toggle favorite",children:(0,i.jsx)("svg",{className:"h-4 w-4",fill:Q?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,i.jsx)("button",{onClick:e=>{e.preventDefault(),P(f.fighter_id,f.name)},className:"rounded-full p-2 backdrop-blur-md transition-colors ".concat(V?"bg-blue-500/90 text-white":"bg-black/40 text-white/90 hover:bg-black/60"),"aria-label":"Add to comparison",children:(0,i.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),(0,i.jsxs)("div",{className:"relative aspect-[3/4] flex-shrink-0 overflow-hidden bg-gradient-to-br from-gray-800 to-gray-900",style:{transform:"translateZ(-20px)",transformStyle:"preserve-3d"},children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-radial from-primary/30 via-primary/10 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100",style:{transform:"translateZ(-40px) scale(1.2)",transformStyle:"preserve-3d",filter:"blur(40px)"}}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-radial from-primary/20 via-primary/5 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100",style:{transform:"translateZ(-25px) scale(1.1)",transformStyle:"preserve-3d",filter:"blur(20px)"}}),Y?(0,i.jsxs)("div",{className:"relative h-full w-full",style:{transform:"translateZ(5px)",transformStyle:"preserve-3d"},children:[(0,i.jsx)(s.default,{src:J,alt:f.name,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-110",sizes:"(max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw",priority:y,onError:()=>T(!0)}),(0,i.jsx)("div",{className:"pointer-events-none absolute inset-0 opacity-0 transition-opacity duration-500 group-hover:opacity-100",style:{background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.15) 0%, transparent 50%)",mixBlendMode:"overlay"}})]}):(0,i.jsx)("div",{className:"flex h-full items-center justify-center bg-gradient-to-br ".concat({Flyweight:"from-blue-500/20 to-blue-600/20",Bantamweight:"from-green-500/20 to-green-600/20",Featherweight:"from-yellow-500/20 to-yellow-600/20",Lightweight:"from-orange-500/20 to-orange-600/20",Welterweight:"from-red-500/20 to-red-600/20",Middleweight:"from-purple-500/20 to-purple-600/20","Light Heavyweight":"from-pink-500/20 to-pink-600/20",Heavyweight:"from-gray-500/20 to-gray-600/20"}[f.division||""]||"from-gray-500/20 to-gray-600/20"),children:(0,i.jsx)("span",{className:"text-6xl font-bold text-white/20",children:(0,g.Qm)(f.name)})}),(0,i.jsxs)("div",{className:"absolute left-3 top-3 flex flex-col gap-2",style:{transform:"translateZ(30px)",transformStyle:"preserve-3d"},children:[f.is_current_champion&&(0,i.jsxs)("span",{className:"flex items-center gap-1 rounded-full bg-gradient-to-r from-yellow-500 to-amber-600 px-3 py-1 text-xs font-bold text-white backdrop-blur-sm",children:[(0,i.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),f.was_interim?"CHAMP (I)":"CHAMP"]}),!f.is_current_champion&&f.is_former_champion&&(0,i.jsxs)("span",{className:"flex items-center gap-1 rounded-full border border-amber-600/70 bg-black/60 px-3 py-1 text-xs font-semibold text-amber-500 backdrop-blur-sm",children:[(0,i.jsx)("svg",{className:"h-3 w-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,i.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),f.was_interim?"FORMER (I)":"FORMER"]})]}),(0,i.jsx)("div",{className:"absolute bottom-3 left-3 flex flex-col items-start gap-1.5",style:{transform:"translateZ(25px)",transformStyle:"preserve-3d"}}),(0,i.jsx)("div",{className:"absolute bottom-3 right-3 flex flex-col items-end gap-1.5",style:{transform:"translateZ(25px)",transformStyle:"preserve-3d"},children:(0,i.jsx)(v,{currentRank:f.current_rank,peakRank:f.peak_rank,isChampion:f.is_current_champion,isInterimChampion:f.was_interim})}),(0,i.jsx)(u.M,{children:j&&(0,i.jsx)(d.E.div,{className:"absolute inset-0 bg-black/85 backdrop-blur-sm overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,i.jsx)("div",{className:"flex h-full flex-col text-white",children:X?(0,i.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-2 px-6 text-center",children:[(0,i.jsx)("div",{className:"rounded-full bg-white/10 p-3",children:(0,i.jsx)("svg",{className:"h-6 w-6 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,i.jsx)("span",{className:"text-sm text-white/70",children:"Failed to load stats"}),(0,i.jsx)("span",{className:"text-xs text-white/50",children:"Click for full profile"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"px-6 pb-3 pt-6 text-center",children:[(0,i.jsx)("h4",{className:"text-sm font-semibold uppercase tracking-wider text-white/60",children:"Quick Stats"}),K&&!G&&(0,i.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs text-white/70",children:[(0,i.jsx)("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white/30 border-t-white"}),(0,i.jsx)("span",{children:"Fetching fight details..."})]})]}),(0,i.jsxs)("div",{className:"flex-1 space-y-4 overflow-y-auto px-6 pb-6",children:[(0,i.jsx)("div",{className:"w-full min-h-[116px] rounded-2xl bg-white/10 p-4 shadow-inner",children:er?(()=>{var e;let t=(null===(e=er.result)||void 0===e?void 0:e.toLowerCase())==="next"||er.date&&new Date(er.date)>new Date;return(0,i.jsxs)("div",{className:"flex h-full flex-col justify-between gap-2",children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("div",{className:"mb-1 text-xs text-white/60",children:t?"Next Fight":"Last Fight"}),(0,i.jsxs)("div",{className:"text-sm font-bold",children:[er.result," vs"," ",er.opponent]}),er.method?(0,i.jsx)("div",{className:"text-xs text-white/70",children:er.method}):null]}),(0,i.jsx)("div",{className:"text-xs text-white/50",children:C(er.date)})]})})():S?(0,i.jsx)("div",{className:"space-y-2",children:K?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"h-3 w-24 animate-pulse rounded-full bg-white/20"}),(0,i.jsx)("div",{className:"h-4 w-3/4 animate-pulse rounded-full bg-white/30"}),(0,i.jsx)("div",{className:"h-3 w-1/2 animate-pulse rounded-full bg-white/20"})]}):(0,i.jsx)("p",{className:"text-center text-xs text-white/60",children:"Fight history data is on the way."})}):(0,i.jsx)("div",{className:"text-center text-xs text-white/60",children:"Hover to load recent fight data."})}),(0,i.jsxs)("div",{className:"grid w-full grid-cols-2 gap-3",children:[et&&et.count>=2&&(0,i.jsxs)("div",{className:"rounded-xl bg-white/10 p-3 text-center",children:[(0,i.jsx)("div",{className:"text-lg font-bold leading-tight",children:et.label}),(0,i.jsx)("div",{className:"text-xs text-white/60",children:"Current Streak"})]}),f.stance&&(0,i.jsxs)("div",{className:"rounded-xl bg-white/10 p-3 text-center",children:[(0,i.jsx)("div",{className:"text-lg font-bold leading-tight",children:f.stance}),(0,i.jsx)("div",{className:"text-xs text-white/60",children:"Stance"})]}),f.height&&(0,i.jsxs)("div",{className:"rounded-xl bg-white/10 p-3 text-center",children:[(0,i.jsx)("div",{className:"text-lg font-bold leading-tight",children:f.height}),(0,i.jsx)("div",{className:"text-xs text-white/60",children:"Height"})]}),f.reach&&(0,i.jsxs)("div",{className:"rounded-xl bg-white/10 p-3 text-center",children:[(0,i.jsx)("div",{className:"text-lg font-bold leading-tight",children:f.reach}),(0,i.jsx)("div",{className:"text-xs text-white/60",children:"Reach"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 px-6 pb-6 pt-3 text-xs text-white/80",children:[(0,i.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),(0,i.jsx)("span",{children:"Click for full profile"})]})]})})})})]}),(0,i.jsxs)("div",{className:"flex flex-1 flex-col p-4",style:{transform:"translateZ(10px)",transformStyle:"preserve-3d"},children:[(0,i.jsxs)("div",{className:"mb-2 min-h-[3rem]",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,i.jsx)("h3",{className:"font-bold text-foreground transition-colors group-hover:text-primary",children:f.name}),f.is_current_champion&&(0,i.jsx)("span",{className:"text-lg text-amber-500",title:"Current Champion",children:"⭐"})]}),f.nickname?(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:['"',f.nickname,'"']}):(0,i.jsx)("div",{className:"h-5"})]}),(0,i.jsxs)("div",{className:"mt-1 space-y-1.5 text-xs text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[(0,i.jsx)("span",{className:"font-medium truncate",children:f.record}),f.division&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:"•"}),(0,i.jsx)("span",{className:"truncate",children:f.division})]})]}),(0,i.jsx)(F,{streak:et})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsx)("div",{className:"flex items-center gap-2 text-[11px]",children:(0,i.jsx)(D,{fighter:f})}),(0,i.jsx)(L,{formData:ei})]})]}),f.fighting_out_of&&(0,i.jsxs)("div",{className:"mt-3 border-t border-border/50 pt-3",children:[(0,i.jsx)("div",{className:"mb-1 text-xs text-muted-foreground",children:"Fighting Out Of"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-sm text-foreground",children:[$&&(0,i.jsx)(_.Z,{countryCode:$,width:20,height:14}),f.fighting_out_of]})]})]}),(0,i.jsx)("div",{className:"flex-shrink-0 border-t border-border/50 bg-muted/30 px-4 py-2",style:{transform:"translateZ(15px)",transformStyle:"preserve-3d"},children:(0,i.jsx)("div",{className:"flex items-center justify-center text-xs",children:(0,i.jsxs)("span",{className:"flex items-center gap-1 font-medium text-primary transition-all group-hover:gap-2",children:["View Profile",(0,i.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})})]})})})},(e,t)=>{let r=e.fighter,i=t.fighter;return M.every(e=>r[e]===i[e])})},29554:function(e,t,r){r.d(t,{r:function(){return f}});var i=r(91115),a=r(95828),n=r(51049),s=r(63979),l=r(97910);let o=r(48159).env.NEXT_PUBLIC_DEMO_FAVORITES_USER||"demo-user";function c(e){var t;if(!(null==e?void 0:null===(t=e.entries)||void 0===t?void 0:t.length))return{defaultCollection:e,favoriteIds:new Set,favoriteEntryMap:new Map,favoriteListCache:[]};let r=new Set,i=new Map,a=[];for(let t of e.entries)r.add(t.fighter_id),i.set(t.fighter_id,t),t.fighter&&a.push(t.fighter);return{defaultCollection:e,favoriteIds:r,favoriteEntryMap:i,favoriteListCache:a}}let d=null,u=c(null),h=(0,n.F)((e,t)=>({...u,isLoading:!1,isInitialized:!1,error:null,initialize:async()=>t().isInitialized?void 0:d||(d=(async()=>{e({isLoading:!0,error:null});try{let r=await (0,s.uK)(o),i=null;if(r.collections&&r.collections.length>0){let e=r.collections[0].collection_id;i=await (0,s.My)(e,o)}else{l.k.info("No collections found, creating default collection");let e=await t()._ensureDefaultCollection();i=await (0,s.My)(e,o)}e({...c(i),isLoading:!1,isInitialized:!0,error:null})}catch(t){l.k.error("Failed to initialize favorites store",t instanceof Error?t:void 0),e({isLoading:!1,isInitialized:!0,error:t instanceof Error?t.message:"Failed to load favorites"})}finally{d=null}})()),_ensureDefaultCollection:async()=>{try{let e=await (0,s.uK)(o);if(e.collections&&e.collections.length>0)return e.collections[0].collection_id;return(await (0,s.eQ)({user_id:o,title:"My Favorites",description:"Your favorite UFC fighters",is_public:!1})).collection_id}catch(e){throw l.k.error("Failed to ensure default collection",e instanceof Error?e:void 0),e}},_refreshCollection:async()=>{let r=t();if(r.defaultCollection)try{let t=await (0,s.My)(r.defaultCollection.collection_id,o);e({...c(t),error:null})}catch(t){l.k.error("Failed to refresh collection",t instanceof Error?t:void 0),e({error:t instanceof Error?t.message:"Failed to refresh favorites"})}},toggleFavorite:async r=>{t().isInitialized||await t().initialize();try{let i=await t()._ensureDefaultCollection(),{favoriteEntryMap:a}=t(),n=a.get(r.fighter_id);if(n)e(e=>{if(!e.defaultCollection)return{};let t={...e.defaultCollection,entries:e.defaultCollection.entries.filter(e=>e.fighter_id!==r.fighter_id)};return c(t)}),await (0,s.uZ)(i,n.entry_id,o);else{let t=new Date().toISOString(),a=Date.now();e(e=>{if(!e.defaultCollection)return{};let n={id:a,entry_id:a,collection_id:i,fighter_id:r.fighter_id,fighter_name:r.name,fighter:r,position:e.defaultCollection.entries.length+1,notes:null,tags:[],created_at:t,added_at:t,updated_at:t,metadata:{}},s={...e.defaultCollection,entries:[...e.defaultCollection.entries,n]};return c(s)}),await (0,s.od)(i,{fighter_id:r.fighter_id},o)}return await t()._refreshCollection(),{success:!0}}catch(r){return l.k.error("Failed to toggle favorite",r instanceof Error?r:void 0),e({error:r instanceof Error?r.message:"Failed to update favorite"}),await t()._refreshCollection(),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}},isFavorite:e=>t().favoriteIds.has(e),getFavorites:()=>t().favoriteListCache}));var m=r(75880);function f(e){var t;let r=h(e=>e.favoriteListCache),n=h(e=>e.toggleFavorite),s=h(e=>e.isFavorite),{initialize:l,isInitialized:o,isLoading:c,error:d}=h(e=>({initialize:e.initialize,isInitialized:e.isInitialized,isLoading:e.isLoading,error:e.error}),a.X),{searchTerm:u,stanceFilter:f,divisionFilter:x,championStatusFilters:p,setSearchTerm:g,setStanceFilter:v,setDivisionFilter:w,toggleChampionStatusFilter:b}=(0,m.b)(e=>({searchTerm:e.searchTerm,stanceFilter:e.stanceFilter,divisionFilter:e.divisionFilter,championStatusFilters:e.championStatusFilters,setSearchTerm:e.setSearchTerm,setStanceFilter:e.setStanceFilter,setDivisionFilter:e.setDivisionFilter,toggleChampionStatusFilter:e.toggleChampionStatusFilter}),a.X),y=null!==(t=null==e?void 0:e.autoInitialize)&&void 0!==t&&t;return(0,i.useEffect)(()=>{y&&(o||c||l())},[y,l,o,c]),{favorites:r,toggleFavorite:n,isFavorite:s,isLoading:c,error:d,searchTerm:u,stanceFilter:f,divisionFilter:x,championStatusFilters:p,setSearchTerm:g,setStanceFilter:v,setDivisionFilter:w,toggleChampionStatusFilter:b}}},24611:function(e,t,r){r.d(t,{K:function(){return s}});var i=r(1686),a=r(85932);i.registerLocale(a);let n={american:"US",argentine:"AR",argentinian:"AR",australian:"AU",brazilian:"BR",british:"GB",canadian:"CA",chilean:"CL",chinese:"CN",colombian:"CO",cuban:"CU",danish:"DK",dominican:"DO",dutch:"NL",english:"GB",french:"FR",german:"DE",ghanaian:"GH",irish:"IE",italian:"IT",jamaican:"JM",japanese:"JP",mexican:"MX",moroccan:"MA","new zealander":"NZ",nigerian:"NG",norwegian:"NO",peruvian:"PE",polish:"PL",portuguese:"PT",russian:"RU",scottish:"GB",serbian:"RS","south african":"ZA",spanish:"ES",swedish:"SE",swiss:"CH",turkish:"TR",welsh:"GB"};function s(e){if(!e)return null;let t=e.trim();if(!t)return null;if(/^[A-Z]{2}$/.test(t))return t;let r=i.getAlpha2Code(t,"en");if(r)return r.toUpperCase();let a=n[t.toLowerCase()];return null!=a?a:null}}}]);